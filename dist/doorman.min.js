"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),"function"!=typeof Array.contains&&(Array.prototype.contains=function(t){for(var e=this,n=this.length;n--;)if(e[n]===t)return!0;return!1}),"function"!=typeof String.removeChar&&(String.prototype.removeChar=function(t){var e=this;return e.split(t).join("")});var doorman=function(){var t=function(){this.valid=!0,this.failedTest=""};return Object.create(new t)}();!function(t){var e=function(t){return this.valid?this:void window.location.replace(t||"http://whatbrowser.org/")};return t.redirect=e}(doorman||{}),function(t){var e=function(){function t(){this.canvas=r,this.canvastext=o,this.formautofocus=i,this.geolocation=c,this.history=a,this.localstorage=u,this.microdata=f,this.offline=s,this.placeholder=h,this.webworkers=d,this.video=v,this.videoformats=l}var e=function(t,e){try{return"object"==typeof e&&t in e&&null!==e[t]}catch(n){return!1}},n=function(t,e,n){return n?document.createElement(e)[t](n):document.createElement(e)[t]},r=function(){return!!n("getContext","canvas")},o=function(){if(!r())return!1;var t=n("getContext","canvas","2d");return"function"==typeof t.fillText},i=function(){return e("autofocus",document.createElement("input"))},c=function(){return e("geolocation",navigator)},a=function(){return e("history",window)&&e("pushState",window.history)},u=function(){return e("localStorage",window)},f=function(){return e("getItems",document)},s=function(){return e("applicationCache",window)},h=function(){return e("placeholder",document.createElement("input"))},d=function(){return e("Worker",window)},v=function(){return!!n("canPlayType","video")},l=function(){if(!v)return!1;for(var t=['video/mp4; codecs="avc1.42E01E, mp4a.40.2"','video/ogg; codecs="theora, vorbis"','video/webm; codecs="vp8, vorbis"'],e=t.length;e--;){var r=t[e];if(""===n("canPlayType","video",r))return!1}return!0};return Object.create(new t)};return t.browserTest=Object.create(new e)}(doorman||{}),function(t){var e=function(t,e){var n=[];if("undefined"==typeof t){var r=[];for(var o in e)try{"function"==typeof e[o]&&r.push(o)}catch(i){}n=r}else"string"==typeof t?n.push(t):n=t;return n},n=function(){for(var t,n,r=Array.prototype.slice.call(arguments),o=0,i=r.length;i>o;o++)"function"==typeof r[o]?n=r[o]:t=r[o];for(var c=this.browserTest,a=e(t,c),o=a.length;o--&&this.valid;){var u=a[o].removeChar("-").toLowerCase();if("function"!=typeof c[u])throw new Error(u+" is not a valid browser test.");this.valid=c[u](),this.failedTest=this.valid?"":u}return"undefined"==typeof n?this:void n(this.valid,this.redirect)};return t.check=n}(doorman||{});