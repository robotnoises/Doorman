"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),"function"!=typeof Array.contains&&(Array.prototype.contains=function(t){for(var e=this,n=this.length;n--;)if(e[n]===t)return!0;return!1}),"function"!=typeof String.removeChar&&(String.prototype.removeChar=function(t){var e=this;return e.split(t).join("")});var doorman=function(){var t=function(){this.valid=!0,this.failedTest=""};return Object.create(new t)}();!function(t){var e=function(){function t(){this.autofocus=i,this.canvas=r,this.canvastext=o,this.geolocation=a,this.history=c,this.inputtypes=p,this.localstorage=u,this.offline=f,this.placeholder=s,this.webworkers=h,this.video=l}var e=function(t,e){try{return"object"==typeof e&&t in e&&null!==e[t]}catch(n){return!1}},n=function(t,e,n){return n?document.createElement(t)[e](n):document.createElement(t)[e]},r=function(){return!!n("canvas","getContext")},o=function(){if(!r())return!1;var t=n("canvas","getContext","2d");return"function"==typeof t.fillText},i=function(){return e("autofocus",document.createElement("input"))},a=function(){return e("geolocation",navigator)},c=function(){return e("history",window)&&e("pushState",window.history)},u=function(){return e("localStorage",window)},f=function(){return e("applicationCache",window)},s=function(){return e("placeholder",document.createElement("input"))},h=function(){return e("Worker",window)},l=function(){return!!n("video","canPlayType")},p=function(){for(var t=["search","number","range","tel","url","email"],e=0,n=t.length;n>e;e++){var r=document.createElement("input");if(r.setAttribute("type",t[e]),"text"===r.type)return!1}return!0};return Object.create(new t)};return t.browserTest=Object.create(e())}(doorman||{}),function(t){var e=!1,n=function(t,e){var n=[];if("undefined"==typeof t){var r=[];for(var o in e)try{"function"==typeof e[o]&&r.push(o)}catch(i){}n=r}else"string"==typeof t?n.push(t):n=t;return n},r=function(){for(var t,r,o=Array.prototype.slice.call(arguments),i=0,a=o.length;a>i;i++)"function"==typeof o[i]?r=o[i]:t=o[i];for(var c=function(t){e||(e=!0,window.location.replace(t||"http://whatbrowser.org/"))},u=this.browserTest,f=n(t,u),i=0,a=f.length;a>i&&this.valid;i++){var s=f[i].removeChar("-").toLowerCase();if("function"!=typeof u[s])throw new Error(s+" is not a valid browser test.");this.valid=u[s](),this.failedTest=this.valid?"":s}return"undefined"!=typeof r?(r({valid:this.valid,failedTest:this.failedTest},c),this):this.valid?this:void c()};return t.check=r}(doorman||{});